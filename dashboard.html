<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard ‚Äî Data Platform</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Outfit', sans-serif;
      background: #ffffff;
      color: #2d3748;
    }

    .user-dropdown, .help-popup {
      position: absolute;
      background-color: white;
      border: 1px solid #ccc;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      width: 180px;
      display: none;
      z-index: 50;
    }

    .user-dropdown.show,
    .help-popup.show {
      display: block;
    }

    .user-dropdown-item,
    .logout-item {
      padding: 10px 16px;
      font-size: 14px;
      cursor: pointer;
    }

    .logout-item {
      color: red;
    }

    .logout-item:hover {
      background-color: #ffecec;
    }

    .user-icon {
      background-color: white;
      color: #6366f1;
      border-radius: 9999px;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-weight: bold;
      font-size: 20px;
    }

    .iframe-container iframe {
      width: 100%;
      height: 100%;
      border: none;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<div class="flex flex-col md:flex-row min-h-screen">
  <!-- Sidebar -->
  <div class="flex md:flex-col md:w-20 w-full md:h-screen h-auto bg-gradient-to-b from-indigo-500 to-cyan-400 text-white p-4 md:items-center justify-between md:justify-start">
    
    <!-- Profile Icon -->
    <div class="relative mb-4 md:mb-6">
      <div class="user-icon" onclick="toggleDropdown()" title="User">U</div>
      <div id="userDropdown" class="user-dropdown mt-2 left-2 md:left-20 top-10 md:top-16">
        <div class="user-dropdown-item">demo</div>
        <div class="logout-item" onclick="logout()">Logout</div>
      </div>
    </div>

    <!-- Reports Icon -->
    <div class="mb-4 md:mb-6">
      <div class="user-icon" title="Reports">üìä</div>
    </div>

    <!-- Help Icon -->
    <div class="relative">
      <div class="user-icon" onclick="toggleHelp()" title="Help">‚ùì</div>
      <div id="helpPopup" class="help-popup mt-2 left-2 md:left-20 top-10 md:top-40">
        <div class="user-dropdown-item">Send queries to<br><b>demo@xyz.com</b></div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="flex-1 p-4 md:p-8">
    <!-- Dropdown -->
    <div class="py-4">
      <select class="w-full md:w-1/2 p-3 border border-gray-300 rounded-md text-gray-700" id="dashboardSelect" onchange="updateDashboard()">
        <option value="marketing">Marketing Dashboard</option>
        <option value="sales">Sales Dashboard</option>
        <option value="inventory">Inventory Dashboard</option>
        <option value="finance">Finance Reports</option>
      </select>
    </div>

    <!-- Dashboard Iframe -->
    <div class="mt-4">
      <div class="iframe-container w-full h-[70vh] border border-gray-200 rounded-md overflow-hidden">
        <iframe 
          id="dashboardIframe"
          allowfullscreen
          frameborder="0"
          title="Dashboard">
        </iframe>
      </div>
    </div>
  </div>
</div>

<script>
  function updateDashboard() {
    const iframe = document.getElementById("dashboardIframe");
    const selectedValue = document.getElementById("dashboardSelect").value;

    switch (selectedValue) {
      case "marketing":
        iframe.src = "https://lookerstudio.google.com/embed/reporting/e2e04867-6b49-4300-a393-a0defb19566e/page/PP0FF";
        break;
      case "sales":
        iframe.src = "https://lookerstudio.google.com/embed/reporting/ea73c330-e0e3-4d4e-be88-3e7bdcbc7cb5/page/0a93D";
        break;
      case "inventory":
        iframe.src = "https://lookerstudio.google.com/embed/reporting/31e45c71-5970-408c-8329-e9b22241ca23/page/I4YHF";
        break;
      case "finance":
        iframe.src = "https://lookerstudio.google.com/embed/reporting/49fdfd3c-f604-47e9-a204-ac985fbfb2ff/page/1S0XD";
        break;
      default:
        iframe.src = "";
    }
  }

  // Set default dashboard
  updateDashboard();

  function toggleDropdown() {
    document.getElementById("userDropdown").classList.toggle("show");
    document.getElementById("helpPopup").classList.remove("show");
  }

  function toggleHelp() {
    document.getElementById("helpPopup").classList.toggle("show");
    document.getElementById("userDropdown").classList.remove("show");
  }

  function logout() {
    window.location.href = "login.html";
  }

  document.addEventListener("click", function (e) {
    const userDropdown = document.getElementById("userDropdown");
    const helpPopup = document.getElementById("helpPopup");
    const icons = document.querySelectorAll(".user-icon");

    if (!userDropdown.contains(e.target) && !icons[0].contains(e.target)) {
      userDropdown.classList.remove("show");
    }

    if (!helpPopup.contains(e.target) && !icons[2].contains(e.target)) {
      helpPopup.classList.remove("show");
    }
  });
</script>

</body>
</html>
